<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Khushboo's Impetus Guide 2025</title>
    <meta name="description" content="Comprehensive guide for Impetus Technologies interviews.">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-body: #0B0E14;
            --bg-card: #151921;
            --bg-sidebar: #0f131a;
            --border-color: #2D3342;
            --accent-primary: #3b82f6; /* Blue */
            --accent-glow: rgba(59, 130, 246, 0.5);
            --text-main: #E2E8F0;
            --text-muted: #94A3B8;
        }
        
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: var(--bg-body); 
            color: var(--text-main);
            overflow: hidden; /* App-like feel */
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: var(--bg-body); }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #475569; }

        /* Utilities */
        .glass-panel {
            background: rgba(21, 25, 33, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .dev-card {
            background-color: var(--bg-card);
            border: 1px solid var(--border-color);
            transition: all 0.2s ease;
        }
        .dev-card:hover {
            border-color: #4B5563;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
            transform: translateY(-2px);
        }

        /* Navigation */
        .nav-item {
            color: var(--text-muted);
            border-right: 3px solid transparent;
            transition: all 0.2s;
        }
        .nav-item:hover {
            background: rgba(255, 255, 255, 0.03);
            color: #fff;
        }
        .tab-active {
            background: linear-gradient(90deg, rgba(59, 130, 246, 0.1) 0%, transparent 100%);
            color: #60A5FA;
            border-right-color: #60A5FA;
        }

        /* Coding Environment Look */
        .code-window {
            font-family: 'JetBrains Mono', monospace;
            background: #0d1117; /* GitHub Dark Dimmed */
            border: 1px solid #30363d;
            border-radius: 8px;
        }
        .code-header {
            background: #161b22;
            border-bottom: 1px solid #30363d;
            padding: 8px 16px;
            font-size: 0.75rem;
            color: #8b949e;
        }
        
        /* Syntax Highlighting Sim */
        .token-keyword { color: #ff7b72; } 
        .token-string { color: #a5d6ff; }
        .token-comment { color: #8b949e; font-style: italic; }
        .token-func { color: #d2a8ff; }
        .token-type { color: #79c0ff; }

        /* Tags */
        .tag { font-family: 'JetBrains Mono', monospace; font-size: 0.7rem; padding: 2px 8px; border-radius: 4px; border: 1px solid transparent;}
        .tag-easy { background: rgba(34, 197, 94, 0.1); color: #4ade80; border-color: rgba(34, 197, 94, 0.2); }
        .tag-medium { background: rgba(234, 179, 8, 0.1); color: #facc15; border-color: rgba(234, 179, 8, 0.2); }
        .tag-hard { background: rgba(239, 68, 68, 0.1); color: #f87171; border-color: rgba(239, 68, 68, 0.2); }
        
        .fade-in { animation: fadeIn 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Fancy Gradient Text */
        .text-gradient {
            background: linear-gradient(to right, #60A5FA, #A78BFA);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body class="flex flex-col h-screen">

    <!-- Top Bar (IDE Style) -->
    <header class="h-14 border-b border-[#2D3342] bg-[#0B0E14] flex items-center justify-between px-6 shrink-0 z-20">
        <div class="flex items-center gap-4">
            <div class="w-8 h-8 rounded bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center text-white font-bold font-mono text-sm shadow-[0_0_15px_rgba(59,130,246,0.5)]">
                IT
            </div>
            <div>
                <h1 class="font-bold text-sm tracking-wide text-gray-200">TARGET <span class="text-blue-400">IMPETUS</span> <span class="text-xs bg-blue-900/30 text-blue-300 px-1.5 py-0.5 rounded ml-2 border border-blue-800">v2.5.0</span></h1>
                <p class="text-[10px] text-gray-500 font-mono uppercase tracking-widest">Khushboo's Workspace</p>
            </div>
        </div>
        <div class="flex items-center gap-3">
            <div class="hidden md:flex items-center gap-2 px-3 py-1.5 bg-[#151921] rounded border border-[#2D3342]">
                <div class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
                <span class="text-xs text-gray-400 font-mono">System Online</span>
            </div>
            <button onclick="window.print()" class="text-gray-400 hover:text-white transition p-2 hover:bg-[#151921] rounded" title="Export PDF">
                <i class="fas fa-file-export"></i>
            </button>
        </div>
    </header>

    <div class="flex flex-1 overflow-hidden">
        
        <!-- Sidebar -->
        <aside class="w-64 bg-sidebar border-r border-[#2D3342] flex flex-col hidden md:flex shrink-0">
            <div class="p-4">
                <div class="text-[10px] font-bold text-gray-600 uppercase tracking-wider mb-2 font-mono pl-4">Explorer</div>
                <nav class="space-y-1">
                    <button onclick="switchTab('dashboard')" class="nav-item w-full text-left px-4 py-3 rounded hover:bg-[#151921] flex items-center gap-3 tab-active" id="btn-dashboard">
                        <i class="fas fa-chart-line w-5 text-center text-sm"></i> 
                        <span class="text-sm font-medium">Dashboard</span>
                    </button>
                    <button onclick="switchTab('coding')" class="nav-item w-full text-left px-4 py-3 rounded hover:bg-[#151921] flex items-center gap-3" id="btn-coding">
                        <i class="fas fa-code w-5 text-center text-sm"></i> 
                        <span class="text-sm font-medium">Coding Problems</span>
                    </button>
                    <button onclick="switchTab('sql')" class="nav-item w-full text-left px-4 py-3 rounded hover:bg-[#151921] flex items-center gap-3" id="btn-sql">
                        <i class="fas fa-database w-5 text-center text-sm"></i> 
                        <span class="text-sm font-medium">SQL Console</span>
                    </button>
                    <button onclick="switchTab('theory')" class="nav-item w-full text-left px-4 py-3 rounded hover:bg-[#151921] flex items-center gap-3" id="btn-theory">
                        <i class="fas fa-microchip w-5 text-center text-sm"></i> 
                        <span class="text-sm font-medium">Core Concepts</span>
                    </button>
                    <button onclick="switchTab('hr')" class="nav-item w-full text-left px-4 py-3 rounded hover:bg-[#151921] flex items-center gap-3" id="btn-hr">
                        <i class="fas fa-user-astronaut w-5 text-center text-sm"></i> 
                        <span class="text-sm font-medium">HR Protocol</span>
                    </button>
                </nav>
            </div>
            
            <div class="mt-auto p-4">
                <div class="bg-gradient-to-r from-blue-900/20 to-indigo-900/20 border border-blue-500/20 rounded-lg p-4">
                    <p class="text-xs text-blue-200 italic text-center font-mono">"Consistency is the only algorithm that matters."</p>
                </div>
            </div>
        </aside>

        <!-- Mobile Menu Toggle -->
        <button onclick="document.querySelector('aside').classList.toggle('hidden')" class="md:hidden absolute bottom-6 right-6 z-50 w-12 h-12 bg-blue-600 rounded-full shadow-lg text-white flex items-center justify-center">
            <i class="fas fa-bars"></i>
        </button>

        <!-- Main Workspace -->
        <main class="flex-1 overflow-y-auto p-8 relative" id="main-content">
            
            <!-- Dashboard Section -->
            <section id="dashboard" class="fade-in space-y-8 max-w-6xl mx-auto">
                <!-- Hero Banner -->
                <div class="relative overflow-hidden rounded-xl border border-blue-500/30 bg-gradient-to-r from-blue-900/40 to-purple-900/40 p-8">
                    <div class="absolute top-0 right-0 p-4 opacity-10">
                        <i class="fas fa-rocket text-9xl text-white"></i>
                    </div>
                    <h2 class="text-3xl font-bold mb-2">Welcome Back, <span class="text-gradient">Khushboo</span></h2>
                    <p class="text-gray-400 max-w-xl">Your personalized battle station for the Impetus interview. We've compiled the high-frequency patterns for 2025.</p>
                    
                    <div class="flex gap-4 mt-6">
                        <div class="px-4 py-2 bg-black/30 rounded border border-white/10 flex items-center gap-2">
                            <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                            <span class="text-xs font-mono text-gray-300">Target: SDE I / Data Engineer</span>
                        </div>
                        <div class="px-4 py-2 bg-black/30 rounded border border-white/10 flex items-center gap-2">
                            <i class="fab fa-java text-orange-400 text-xs"></i>
                            <span class="text-xs font-mono text-gray-300">Stack: Java + Big Data</span>
                        </div>
                    </div>
                </div>

                <!-- Process Grid -->
                <div>
                    <h3 class="text-sm font-bold text-gray-500 uppercase tracking-widest mb-4 font-mono">Mission Roadmap</h3>
                    <div class="grid md:grid-cols-4 gap-4">
                        <div class="dev-card p-5 rounded-lg relative overflow-hidden group">
                            <div class="absolute top-0 left-0 w-1 h-full bg-blue-500"></div>
                            <div class="text-blue-500 mb-2 group-hover:scale-110 transition-transform duration-300"><i class="fas fa-laptop-code text-xl"></i></div>
                            <h4 class="font-bold text-gray-200">Round 1: Online</h4>
                            <p class="text-xs text-gray-500 mt-1">90 Mins â€¢ HackerRank</p>
                            <div class="mt-3 text-[10px] text-gray-400 font-mono bg-black/20 p-2 rounded">
                                > 2 Coding (Easy/Med)<br>> 2 SQL Queries<br>> 15 Aptitude
                            </div>
                        </div>
                        <div class="dev-card p-5 rounded-lg relative overflow-hidden group">
                            <div class="absolute top-0 left-0 w-1 h-full bg-purple-500"></div>
                            <div class="text-purple-500 mb-2 group-hover:scale-110 transition-transform duration-300"><i class="fas fa-cogs text-xl"></i></div>
                            <h4 class="font-bold text-gray-200">Round 2: Tech I</h4>
                            <p class="text-xs text-gray-500 mt-1">45-60 Mins â€¢ 1:1</p>
                            <div class="mt-3 text-[10px] text-gray-400 font-mono bg-black/20 p-2 rounded">
                                > Core Java (Map)<br>> SQL Joins<br>> Notepad Coding
                            </div>
                        </div>
                        <div class="dev-card p-5 rounded-lg relative overflow-hidden group">
                            <div class="absolute top-0 left-0 w-1 h-full bg-orange-500"></div>
                            <div class="text-orange-500 mb-2 group-hover:scale-110 transition-transform duration-300"><i class="fas fa-project-diagram text-xl"></i></div>
                            <h4 class="font-bold text-gray-200">Round 3: Tech II</h4>
                            <p class="text-xs text-gray-500 mt-1">45 Mins â€¢ Managerial</p>
                            <div class="mt-3 text-[10px] text-gray-400 font-mono bg-black/20 p-2 rounded">
                                > Project Deep Dive<br>> System Design<br>> Logic Puzzles
                            </div>
                        </div>
                        <div class="dev-card p-5 rounded-lg relative overflow-hidden group">
                            <div class="absolute top-0 left-0 w-1 h-full bg-green-500"></div>
                            <div class="text-green-500 mb-2 group-hover:scale-110 transition-transform duration-300"><i class="fas fa-handshake text-xl"></i></div>
                            <h4 class="font-bold text-gray-200">Round 4: HR</h4>
                            <p class="text-xs text-gray-500 mt-1">15 Mins â€¢ Final</p>
                            <div class="mt-3 text-[10px] text-gray-400 font-mono bg-black/20 p-2 rounded">
                                > Relocation<br>> Salary Check<br>> "Why Impetus?"
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Cheat Sheet -->
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="dev-card p-6 rounded-lg">
                        <h3 class="text-lg font-bold mb-4 flex items-center gap-2"><i class="fas fa-clipboard-check text-green-400"></i> Daily Runtime Config</h3>
                        <div class="space-y-3">
                            <label class="flex items-center gap-3 p-3 bg-black/20 rounded border border-transparent hover:border-gray-700 cursor-pointer transition">
                                <input type="checkbox" class="w-4 h-4 bg-gray-800 border-gray-600 rounded text-blue-500 focus:ring-0"> 
                                <span class="text-sm text-gray-300">Master <strong>HashMap Internals</strong> (Collision/Buckets)</span>
                            </label>
                            <label class="flex items-center gap-3 p-3 bg-black/20 rounded border border-transparent hover:border-gray-700 cursor-pointer transition">
                                <input type="checkbox" class="w-4 h-4 bg-gray-800 border-gray-600 rounded text-blue-500 focus:ring-0"> 
                                <span class="text-sm text-gray-300">Practice <strong>SQL Self-Joins</strong> & Window Funcs</span>
                            </label>
                            <label class="flex items-center gap-3 p-3 bg-black/20 rounded border border-transparent hover:border-gray-700 cursor-pointer transition">
                                <input type="checkbox" class="w-4 h-4 bg-gray-800 border-gray-600 rounded text-blue-500 focus:ring-0"> 
                                <span class="text-sm text-gray-300">Solve 1 DP & 1 Tree problem</span>
                            </label>
                        </div>
                    </div>
                    <div class="dev-card p-6 rounded-lg">
                        <h3 class="text-lg font-bold mb-4 flex items-center gap-2"><i class="fas fa-terminal text-orange-400"></i> Why Impetus? (CLI Output)</h3>
                        <div class="code-window p-4 text-xs">
                            <p class="text-green-400">$ cat why_impetus.txt</p>
                            <p class="text-gray-300 mt-2">1. <span class="text-yellow-300">Big Data Authority:</span> Deep expertise in Data Engineering & Modernization.</p>
                            <p class="text-gray-300 mt-1">2. <span class="text-yellow-300">Product Suite:</span> Gathr (ETL) & LeapLogic (Cloud Migration).</p>
                            <p class="text-gray-300 mt-1">3. <span class="text-yellow-300">Culture:</span> Strong internal labs and focus on R&D.</p>
                            <p class="text-gray-500 mt-2"># Use these points during the HR round.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Coding Section -->
            <section id="coding" class="hidden fade-in space-y-6">
                <div class="flex flex-col md:flex-row justify-between items-center gap-4 border-b border-[#2D3342] pb-6">
                    <div>
                        <h2 class="text-2xl font-bold text-white">Coding Repository</h2>
                        <p class="text-sm text-gray-500 font-mono">git fetch origin interview-questions</p>
                    </div>
                    <div class="flex gap-3 w-full md:w-auto">
                        <div class="relative w-full md:w-64">
                            <i class="fas fa-search absolute left-3 top-3 text-gray-500 text-xs"></i>
                            <input type="text" id="codingSearch" placeholder="Search problems..." class="w-full bg-[#0B0E14] border border-[#2D3342] rounded px-8 py-2 text-sm text-gray-300 focus:border-blue-500 focus:outline-none" onkeyup="filterCoding()">
                        </div>
                        <select id="codingFilter" class="bg-[#0B0E14] border border-[#2D3342] rounded px-3 py-2 text-sm text-gray-300 focus:border-blue-500 focus:outline-none" onchange="filterCoding()">
                            <option value="all">All Modules</option>
                            <option value="Array">Arrays</option>
                            <option value="String">Strings</option>
                            <option value="LinkedList">Linked List</option>
                            <option value="Tree">Tree/Graph</option>
                            <option value="DP">Dynamic Prog</option>
                        </select>
                    </div>
                </div>

                <div id="coding-container" class="grid gap-4">
                    <!-- Javascript will populate this -->
                </div>
            </section>

            <!-- SQL Section -->
            <section id="sql" class="hidden fade-in h-full">
                <div class="flex flex-col lg:flex-row gap-6 h-[calc(100vh-140px)]">
                    <!-- Left: Schema Reference -->
                    <div class="lg:w-1/3 dev-card p-0 rounded-lg overflow-hidden flex flex-col">
                        <div class="bg-[#1e232e] p-3 border-b border-[#2D3342] flex justify-between items-center">
                            <h3 class="font-bold text-gray-300 text-sm"><i class="fas fa-database text-blue-500 mr-2"></i>Schema Explorer</h3>
                        </div>
                        <div class="p-4 overflow-y-auto space-y-6 flex-1">
                            <div>
                                <h4 class="font-mono text-xs text-blue-400 mb-2 flex items-center gap-2"><i class="fas fa-table"></i> Employees</h4>
                                <div class="code-window p-3 text-[10px] text-gray-400">
                                    <div class="grid grid-cols-5 gap-2 border-b border-gray-700 pb-1 mb-1 font-bold text-gray-300">
                                        <span>id</span><span>name</span><span>dept</span><span>sal</span><span>mgr</span>
                                    </div>
                                    <div class="grid grid-cols-5 gap-2"><span>1</span><span>Alice</span><span>101</span><span>80k</span><span>3</span></div>
                                    <div class="grid grid-cols-5 gap-2"><span>2</span><span>Bob</span><span>102</span><span>65k</span><span>3</span></div>
                                    <div class="grid grid-cols-5 gap-2"><span>3</span><span>Charlie</span><span>101</span><span>90k</span><span>NULL</span></div>
                                </div>
                            </div>
                            <div>
                                <h4 class="font-mono text-xs text-blue-400 mb-2 flex items-center gap-2"><i class="fas fa-table"></i> Orders</h4>
                                <div class="code-window p-3 text-[10px] text-gray-400">
                                    <div class="grid grid-cols-4 gap-2 border-b border-gray-700 pb-1 mb-1 font-bold text-gray-300">
                                        <span>id</span><span>cust_id</span><span>amt</span><span>date</span>
                                    </div>
                                    <div class="grid grid-cols-4 gap-2"><span>1</span><span>101</span><span>500</span><span>Jan-01</span></div>
                                    <div class="grid grid-cols-4 gap-2"><span>2</span><span>102</span><span>200</span><span>Jan-02</span></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Right: Questions -->
                    <div class="lg:w-2/3 space-y-4 overflow-y-auto pr-2 pb-10" id="sql-container">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </section>

            <!-- Theory Section -->
            <section id="theory" class="hidden fade-in space-y-6">
                <div class="flex justify-between items-end border-b border-[#2D3342] pb-4">
                    <div>
                        <h2 class="text-2xl font-bold text-white">Technical Documentation</h2>
                        <p class="text-sm text-gray-500 font-mono">Core CS Concepts & Big Data Fundamentals</p>
                    </div>
                </div>
                
                <div class="grid md:grid-cols-2 gap-4" id="theory-container">
                    <!-- Populated by JS -->
                </div>
            </section>

            <!-- HR Section -->
            <section id="hr" class="hidden fade-in max-w-4xl mx-auto space-y-6">
                <div class="text-center mb-8">
                    <h2 class="text-2xl font-bold text-white">Behavioral Protocol</h2>
                    <p class="text-sm text-gray-500">Optimized responses for human interaction</p>
                </div>
                
                <div class="space-y-6" id="hr-container">
                    <!-- Populated by JS -->
                </div>
            </section>

        </main>
    </div>

    <script>
        // --- Data Source ---
        
        const codingQuestions = [
            {
                id: 1, title: "Find First Non-Repeating Character", topic: "String", diff: "Easy", freq: "High", year: "2024",
                prob: "Given a string s, find the first non-repeating character in it and return its index. If it does not exist, return -1.",
                codeJava: `public int firstUniqChar(String s) {
    int[] count = new int[26];
    // 1st Pass: Count frequencies
    for (char c : s.toCharArray()) 
        count[c - 'a']++;
    
    // 2nd Pass: Find first with count 1
    for (int i = 0; i < s.length(); i++) {
        if (count[s.charAt(i) - 'a'] == 1) return i;
    }
    return -1;
}`,
                codePy: `def firstUniqChar(s):
    count = {}
    # Count frequencies
    for c in s:
        count[c] = count.get(c, 0) + 1
        
    # Find first unique
    for i, c in enumerate(s):
        if count[c] == 1:
            return i
    return -1`
            },
            {
                id: 2, title: "Level Order Traversal (N-ary Tree)", topic: "Tree", diff: "Medium", freq: "Frequent", year: "2023",
                prob: "Given an n-ary tree, return the level order traversal of its nodes' values.",
                codeJava: `public List<List<Integer>> levelOrder(Node root) {
    List<List<Integer>> res = new ArrayList<>();
    if (root == null) return res;
    
    Queue<Node> q = new LinkedList<>();
    q.offer(root);
    
    while (!q.isEmpty()) {
        int size = q.size();
        List<Integer> level = new ArrayList<>();
        for (int i=0; i<size; i++) {
            Node curr = q.poll();
            level.add(curr.val);
            level.addAll(curr.children);
        }
        res.add(level);
    }
    return res;
}`,
                codePy: `def levelOrder(root):
    if not root: return []
    res, q = [], [root]
    while q:
        level = []
        next_q = []
        for node in q:
            level.append(node.val)
            next_q.extend(node.children)
        res.append(level)
        q = next_q
    return res`
            },
            {
                id: 3, title: "Sort Colors (0, 1, 2)", topic: "Array", diff: "Medium", freq: "High", year: "2022",
                prob: "Sort an array consisting of 0, 1, and 2 without using any sorting algo (Dutch National Flag Algorithm).",
                codeJava: `public void sortColors(int[] nums) {
    int low = 0, mid = 0, high = nums.length - 1;
    while (mid <= high) {
        if (nums[mid] == 0) {
            swap(nums, low++, mid++);
        } else if (nums[mid] == 1) {
            mid++;
        } else {
            swap(nums, mid, high--);
        }
    }
}`,
                codePy: `def sortColors(nums):
    low, mid, high = 0, 0, len(nums)-1
    while mid <= high:
        if nums[mid] == 0:
            nums[low], nums[mid] = nums[mid], nums[low]
            low += 1; mid += 1
        elif nums[mid] == 1:
            mid += 1
        else:
            nums[mid], nums[high] = nums[high], nums[mid]
            high -= 1`
            },
            {
                id: 4, title: "Container With Most Water", topic: "Array", diff: "Medium", freq: "Medium", year: "2023",
                prob: "Find two lines that together with the x-axis form a container, such that the container contains the most water.",
                codeJava: `public int maxArea(int[] height) {
    int left = 0, right = height.length - 1;
    int max = 0;
    while(left < right) {
        int w = right - left;
        int h = Math.min(height[left], height[right]);
        max = Math.max(max, w * h);
        if(height[left] < height[right]) left++;
        else right--;
    }
    return max;
}`,
                codePy: `def maxArea(height):
    l, r = 0, len(height) - 1
    res = 0
    while l < r:
        res = max(res, (r - l) * min(height[l], height[r]))
        if height[l] < height[r]: l += 1
        else: r -= 1
    return res`
            },
            {
                id: 5, title: "Find Duplicate Number (Floyd's)", topic: "Array", diff: "Easy", freq: "High", year: "2024",
                prob: "Given an array of integers containing n + 1 integers where each integer is in the range [1, n] inclusive, find the duplicate number.",
                codeJava: `// Floyd's Cycle Detection (Tortoise & Hare)
public int findDuplicate(int[] nums) {
    int slow = nums[0], fast = nums[0];
    // 1. Find collision point
    do {
        slow = nums[slow];
        fast = nums[nums[fast]];
    } while (slow != fast);
    
    // 2. Find entrance to cycle
    slow = nums[0];
    while (slow != fast) {
        slow = nums[slow];
        fast = nums[fast];
    }
    return slow;
}`,
                codePy: `def findDuplicate(nums):
    slow, fast = nums[0], nums[0]
    while True:
        slow = nums[slow]
        fast = nums[nums[fast]]
        if slow == fast: break
    
    slow = nums[0]
    while slow != fast:
        slow = nums[slow]
        fast = nums[fast]
    return slow`
            },
            {
                id: 6, title: "Reverse Linked List", topic: "LinkedList", diff: "Easy", freq: "Frequent", year: "2022",
                prob: "Reverse a singly linked list.",
                codeJava: `public ListNode reverseList(ListNode head) {
    ListNode prev = null;
    ListNode curr = head;
    while (curr != null) {
        ListNode nextTemp = curr.next;
        curr.next = prev;
        prev = curr;
        curr = nextTemp;
    }
    return prev;
}`,
                codePy: `def reverseList(head):
    prev, curr = None, head
    while curr:
        curr.next, prev, curr = prev, curr, curr.next
    return prev`
            },
            {
                id: 8, title: "Longest Substring No Repeats", topic: "String", diff: "Medium", freq: "High", year: "2024",
                prob: "Find the length of the longest substring without repeating characters.",
                codeJava: `public int lengthOfLongestSubstring(String s) {
    int n = s.length(), ans = 0;
    Map<Character, Integer> map = new HashMap<>(); 
    // Sliding Window
    for (int j = 0, i = 0; j < n; j++) {
        if (map.containsKey(s.charAt(j))) {
            i = Math.max(map.get(s.charAt(j)), i);
        }
        ans = Math.max(ans, j - i + 1);
        map.put(s.charAt(j), j + 1);
    }
    return ans;
}`,
                codePy: `def lengthOfLongestSubstring(s):
    char_map = {}
    i = 0
    ans = 0
    for j in range(len(s)):
        if s[j] in char_map:
            i = max(char_map[s[j]], i)
        ans = max(ans, j - i + 1)
        char_map[s[j]] = j + 1
    return ans`
            },
            {
                id: 9, title: "Valid Parentheses", topic: "String", diff: "Easy", freq: "Very High", year: "2025",
                prob: "Determine if the input string has valid parentheses '()', '{}', '[]'.",
                codeJava: `public boolean isValid(String s) {
    Stack<Character> stack = new Stack<>();
    for (char c : s.toCharArray()) {
        if (c == '(') stack.push(')');
        else if (c == '{') stack.push('}');
        else if (c == '[') stack.push(']');
        else if (stack.isEmpty() || stack.pop() != c) return false;
    }
    return stack.isEmpty();
}`,
                codePy: `def isValid(s):
    stack = []
    map = {")": "(", "}": "{", "]": "["}
    for char in s:
        if char in map:
            top = stack.pop() if stack else '#'
            if map[char] != top: return False
        else:
            stack.append(char)
    return not stack`
            },
            {
                id: 11, title: "Best Time to Buy and Sell Stock", topic: "DP", diff: "Easy", freq: "High", year: "2024",
                prob: "Maximize profit by choosing a single day to buy and a different day in the future to sell.",
                codeJava: `public int maxProfit(int[] prices) {
    int minPrice = Integer.MAX_VALUE;
    int maxProfit = 0;
    for(int price : prices) {
        if(price < minPrice) minPrice = price;
        else if(price - minPrice > maxProfit) 
            maxProfit = price - minPrice;
    }
    return maxProfit;
}`,
                codePy: `def maxProfit(prices):
    min_price = float('inf')
    max_profit = 0
    for price in prices:
        if price < min_price:
            min_price = price
        elif price - min_price > max_profit:
            max_profit = price - min_price
    return max_profit`
            },
            {
                id: 13, title: "Maximum Subarray (Kadane's)", topic: "Array", diff: "Easy", freq: "Very High", year: "2022",
                prob: "Find the contiguous subarray (containing at least one number) which has the largest sum.",
                codeJava: `public int maxSubArray(int[] nums) {
    int maxSoFar = nums[0];
    int maxEndingHere = nums[0];
    
    for (int i = 1; i < nums.length; i++) {
        maxEndingHere = Math.max(nums[i], maxEndingHere + nums[i]);
        maxSoFar = Math.max(maxSoFar, maxEndingHere);
    }
    return maxSoFar;
}`,
                codePy: `def maxSubArray(nums):
    max_so_far = nums[0]
    max_ending_here = nums[0]
    for i in range(1, len(nums)):
        max_ending_here = max(nums[i], max_ending_here + nums[i])
        max_so_far = max(max_so_far, max_ending_here)
    return max_so_far`
            }
        ];

        const sqlQuestions = [
            {
                title: "Second Highest Salary",
                desc: "Find the second highest salary from the Employees table.",
                query: `SELECT MAX(salary) 
FROM Employees 
WHERE salary < (SELECT MAX(salary) FROM Employees);

-- Better Approach (Window Function)
SELECT salary FROM (
    SELECT salary, DENSE_RANK() OVER(ORDER BY salary DESC) as rnk 
    FROM Employees
) WHERE rnk = 2 LIMIT 1;`
            },
            {
                title: "Duplicate Emails",
                desc: "Write a SQL query to find all duplicate emails in a table named Person.",
                query: `SELECT email
FROM Person
GROUP BY email
HAVING COUNT(email) > 1;`
            },
            {
                title: "Employees Earning More Than Managers",
                desc: "Find employees who earn more than their managers. (Self Join)",
                query: `SELECT e.name 
FROM Employees e
JOIN Employees m ON e.manager_id = m.emp_id
WHERE e.salary > m.salary;`
            },
            {
                title: "Delete Duplicate Rows",
                desc: "Delete duplicate rows from table 'Person' keeping only unique ids.",
                query: `DELETE p1 
FROM Person p1, Person p2 
WHERE p1.email = p2.email AND p1.id > p2.id;`
            },
            {
                title: "Department Highest Salary",
                desc: "Find employees who have the highest salary in each of the departments.",
                query: `SELECT d.name AS Department, e.name AS Employee, e.salary 
FROM Employees e
JOIN Department d ON e.dept_id = d.id
WHERE (e.dept_id, e.salary) IN (
    SELECT dept_id, MAX(salary)
    FROM Employees
    GROUP BY dept_id
);`
            },
            {
                title: "Find Flights within Budget",
                desc: "Find origin and destination of flights with cost < 6000 ordered by date.",
                query: `SELECT origin, dest 
FROM Flights 
WHERE cost < 6000 
ORDER BY flight_date ASC;`
            }
        ];

        const theoryQuestions = [
            { cat: "Java Core", q: "HashMap vs ConcurrentHashMap?", a: "HashMap is non-thread-safe and fast. ConcurrentHashMap is thread-safe, using 'Lock Stripping' (segments) to allow concurrent reads/writes without locking the whole map." },
            { cat: "Java Core", q: "Equals vs HashCode Contract?", a: "1) If equal, must have same hashCode. 2) If same hashCode, NOT necessarily equal (Collision). 3) Always override both." },
            { cat: "Java Core", q: "What is the Diamond Problem?", a: "Ambiguity in multiple inheritance when a class inherits 2 classes having same method. Java avoids this by not allowing multiple class inheritance (only via Interfaces)." },
            { cat: "Big Data", q: "What is CAP Theorem?", a: "In a distributed system, you can only pick 2: Consistency, Availability, Partition Tolerance. (NoSQL DBs usually sacrifice C or A)." },
            { cat: "Big Data", q: "RDD vs DataFrame (Spark)?", a: "RDD: Low-level, immutable collection, no optimization. DataFrame: High-level, organized into named columns, optimized by Catalyst Optimizer." },
            { cat: "OS & DBMS", q: "Deadlock & Banker's Algorithm?", a: "Deadlock: Processes waiting for each other forever. Banker's Algo: Avoids deadlock by checking if resource allocation leaves system in 'Safe State'." },
            { cat: "OS & DBMS", q: "ACID Properties?", a: "Atomicity (All or nothing), Consistency (Valid state), Isolation (No interference), Durability (Saved forever)." },
            { cat: "OS & DBMS", q: "Normalization (BCNF)?", a: "Removing redundancy. BCNF is stricter 3NF: For dependency X->Y, X must be a superkey." }
        ];

        const hrQuestions = [
            { q: "Tell me about yourself.", a: "Start with education, highlight 1-2 major projects (mention tech stack used), any internship experience, and why you are interested in Data Engineering/Impetus." },
            { q: "Why Impetus?", a: "Mention their specific products like <strong>Gathr</strong> (data pipeline tool). Say: 'I want to work in a company that builds actual Data Products, not just services.' Mention their focus on Cloud/Big Data." },
            { q: "Explain your Final Year Project.", a: "Use STAR method: <strong>Situation</strong> (The problem), <strong>Task</strong> (Your goal), <strong>Action</strong> (Used React/Node/SQL...), <strong>Result</strong> (Improved efficiency by X%)." },
            { q: "Are you willing to relocate?", a: "Impetus has major hubs in Noida, Indore, and Bangalore. Answer YES enthusiastically." },
            { q: "Strength & Weakness?", a: "Strength: 'I am persistent with debugging.' Weakness: 'I sometimes struggle to say no, but I am learning to prioritize tasks better.' (Turn negative into positive)." }
        ];

        // --- Renders ---

        function renderCoding(filter = "all", search = "") {
            const container = document.getElementById("coding-container");
            container.innerHTML = "";
            
            const filtered = codingQuestions.filter(q => {
                const matchesTopic = filter === "all" || q.topic === filter;
                const matchesSearch = q.title.toLowerCase().includes(search.toLowerCase());
                return matchesTopic && matchesSearch;
            });

            if (filtered.length === 0) {
                container.innerHTML = '<div class="text-center text-gray-500 py-10 font-mono text-sm opacity-50">// No matching functions found in repository.</div>';
                return;
            }

            filtered.forEach(q => {
                const div = document.createElement("div");
                div.className = "dev-card p-5 rounded-lg";
                div.innerHTML = `
                    <div class="flex justify-between items-start mb-3">
                        <div>
                            <h3 class="font-bold text-base text-blue-400 font-mono tracking-tight flex items-center gap-2">
                                ${q.title}
                                ${q.freq === 'Very High' ? '<span class="text-[9px] bg-red-500/20 text-red-400 px-2 py-0.5 rounded-full border border-red-500/30">ðŸ”¥ HOT</span>' : ''}
                            </h3>
                            <div class="flex gap-2 mt-2">
                                <span class="tag ${q.diff === 'Easy' ? 'tag-easy' : q.diff === 'Medium' ? 'tag-medium' : 'tag-hard'}">${q.diff}</span>
                                <span class="tag bg-gray-800 text-gray-400 border-gray-700">${q.topic}</span>
                                <span class="tag bg-blue-900/30 text-blue-300 border-blue-800">Freq: ${q.freq}</span>
                            </div>
                        </div>
                        <button onclick="toggleSol(${q.id})" class="text-xs font-mono text-gray-400 hover:text-white bg-[#1e232e] border border-gray-700 px-3 py-1.5 rounded transition flex items-center gap-2">
                            <i class="fas fa-terminal"></i> Source
                        </button>
                    </div>
                    <p class="text-sm text-gray-400 mb-4 leading-relaxed">${q.prob}</p>
                    
                    <div id="sol-${q.id}" class="hidden mt-4 pt-3 border-t border-gray-800 animate-fade-in">
                        <div class="flex gap-4 mb-2 text-[10px] font-bold text-gray-500 uppercase tracking-wider font-mono">
                            <button onclick="showCode(${q.id}, 'java')" class="hover:text-blue-400 transition" id="btn-java-${q.id}">[ Java ]</button>
                            <button onclick="showCode(${q.id}, 'py')" class="hover:text-blue-400 transition" id="btn-py-${q.id}">[ Python ]</button>
                        </div>
                        <div class="code-window">
                            <div class="code-header flex justify-between items-center">
                                <span>Solution.java</span>
                                <button onclick="copyCode('code-block-${q.id}')" class="hover:text-white transition"><i class="fas fa-copy"></i></button>
                            </div>
                            <div class="p-4 overflow-x-auto">
                                <pre id="code-block-${q.id}" class="text-xs text-gray-300 font-mono">${q.codeJava}</pre>
                            </div>
                        </div>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function renderSQL() {
            const container = document.getElementById("sql-container");
            sqlQuestions.forEach((q, idx) => {
                container.innerHTML += `
                    <div class="dev-card p-5 rounded-lg group">
                        <div class="flex items-start gap-3 mb-3">
                             <span class="font-mono text-blue-500 opacity-50 text-sm">0${idx + 1}</span>
                             <h3 class="font-bold text-gray-200">${q.title}</h3>
                        </div>
                        <p class="text-sm text-gray-400 mb-4 font-light pl-8">${q.desc}</p>
                        <div class="pl-8">
                            <div class="code-window">
                                <div class="code-header text-xs text-green-500/70 font-mono">mysql> query_editor.sql</div>
                                <div class="p-3 overflow-x-auto text-sm font-mono text-gray-300">
                                    <pre>${q.query}</pre>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });
        }

        function renderTheory() {
            const container = document.getElementById("theory-container");
            theoryQuestions.forEach(q => {
                // Determine accent color
                let accent = "border-gray-700";
                let icon = "fa-code";
                let textCol = "text-gray-400";
                
                if(q.cat.includes("Java")) { accent = "border-blue-500/50"; icon="fab fa-java"; textCol="text-blue-400"; }
                if(q.cat.includes("Big Data")) { accent = "border-orange-500/50"; icon="fas fa-database"; textCol="text-orange-400"; }
                if(q.cat.includes("OS")) { accent = "border-green-500/50"; icon="fas fa-server"; textCol="text-green-400"; }

                container.innerHTML += `
                    <div class="dev-card p-5 rounded-lg border-l-2 ${accent.replace('border', 'border-l')} relative overflow-hidden">
                        <div class="absolute right-2 top-2 opacity-5 text-4xl"><i class="${icon}"></i></div>
                        <span class="text-[10px] font-bold ${textCol} uppercase tracking-widest font-mono mb-2 block">${q.cat}</span>
                        <h4 class="font-bold text-gray-200 mt-1 mb-2 text-sm">${q.q}</h4>
                        <p class="text-sm text-gray-400 leading-relaxed font-light">${q.a}</p>
                    </div>
                `;
            });
        }

        function renderHR() {
            const container = document.getElementById("hr-container");
            hrQuestions.forEach(q => {
                container.innerHTML += `
                    <div class="flex gap-4 group">
                        <div class="w-10 h-10 rounded bg-[#1e232e] border border-gray-700 flex items-center justify-center text-blue-500 flex-shrink-0">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="dev-card p-5 rounded-lg flex-1 relative bubble-arrow">
                            <h4 class="font-bold text-gray-200 mb-2 text-sm">${q.q}</h4>
                            <div class="text-sm text-gray-400 italic pl-3 border-l-2 border-blue-500/30">
                                "${q.a}"
                            </div>
                        </div>
                    </div>
                `;
            });
        }

        // --- Logic ---

        function switchTab(tabId) {
            ['dashboard', 'coding', 'sql', 'theory', 'hr'].forEach(id => {
                document.getElementById(id).classList.add('hidden');
                document.getElementById('btn-' + id).classList.remove('tab-active');
                document.getElementById('btn-' + id).classList.remove('bg-[#151921]');
            });
            document.getElementById(tabId).classList.remove('hidden');
            document.getElementById('btn-' + tabId).classList.add('tab-active');
            document.getElementById('btn-' + tabId).classList.add('bg-[#151921]');
            
            // Re-trigger fade anim
            const el = document.getElementById(tabId);
            el.classList.remove('fade-in');
            void el.offsetWidth; 
            el.classList.add('fade-in');
        }

        function toggleSol(id) {
            const el = document.getElementById(`sol-${id}`);
            el.classList.toggle('hidden');
        }

        function showCode(id, lang) {
            const block = document.getElementById(`code-block-${id}`);
            const q = codingQuestions.find(x => x.id === id);
            block.textContent = lang === 'java' ? q.codeJava : q.codePy;
            
            // Update syntax highlighting simulation (simple version)
            // Ideally we'd use highlight.js but we want no external heavy deps
        }

        function filterCoding() {
            const search = document.getElementById("codingSearch").value;
            const filter = document.getElementById("codingFilter").value;
            renderCoding(filter, search);
        }

        function copyCode(elementId) {
            const text = document.getElementById(elementId).innerText;
            navigator.clipboard.writeText(text);
            
            // Toast
            const btn = document.querySelector(`[onclick="copyCode('${elementId}')"]`);
            const originalHTML = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-check text-green-400"></i>';
            setTimeout(() => btn.innerHTML = originalHTML, 2000);
        }

        // --- Init ---
        window.onload = function() {
            renderCoding();
            renderSQL();
            renderTheory();
            renderHR();
        };

    </script>
</body>
</html>
